# üìö Black Pill V3.1 - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## üéØ –ß—Ç–æ —ç—Ç–æ –∑–∞ –ø–ª–∞—Ç–∞?

**Black Pill V3.1** - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∞—è –ø–ª–∞—Ç–∞ —Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º STM32F411CEU6.

**–ü—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏:**

- –≠—Ç–æ –∫–∞–∫ –æ—á–µ–Ω—å –º–æ—â–Ω—ã–π Arduino
- –°—Ç–æ–∏—Ç $4-5
- –†–∞–∑–º–µ—Ä–æ–º —Å –ø–∞–ª–µ—Ü
- –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ USB-C

### üèÜ –ü–æ—á–µ–º—É –æ–Ω–∞ –∫–ª–∞—Å—Å–Ω–∞—è?

- ‚ö° **–ë—ã—Å—Ç—Ä–∞—è:** 100 –ú–ì—Ü (Arduino –≤—Å–µ–≥–æ 16 –ú–ì—Ü)
- üß† **–ú–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏:** 512 –ö–ë –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã + 128 –ö–ë RAM
- üîå **–ú–Ω–æ–≥–æ –ø–∏–Ω–æ–≤:** 40 –ø–∏–Ω–æ–≤ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–∞—Ç—á–∏–∫–æ–≤, LED, –º–æ—Ç–æ—Ä–æ–≤
- üí∞ **–î–µ—à–µ–≤–∞—è:** ~$4-5 –Ω–∞ AliExpress
- üì¶ **–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è:** –ü–æ–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ breadboard (–º–∞–∫–µ—Ç–Ω—É—é –ø–ª–∞—Ç—É)

---

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã

–ï—Å–ª–∏ –≤—Å—Ç—Ä–µ—Ç–∏—Ç–µ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–µ —Å–ª–æ–≤–∞ - –≤–æ—Ç —Å–∞–º—ã–µ –≤–∞–∂–Ω—ã–µ:

- **GPIO** - –ø–∏–Ω—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è LED, –∫–Ω–æ–ø–æ–∫, –¥–∞—Ç—á–∏–∫–æ–≤
- **LED** - —Å–≤–µ—Ç–æ–¥–∏–æ–¥
- **UART** - –¥–ª—è —Å–≤—è–∑–∏ —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º (Serial Monitor)
- **SPI** - –±—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å (–¥–∏—Å–ø–ª–µ–∏, SD –∫–∞—Ä—Ç—ã)
- **I2C** - —Å–≤—è–∑—å —Å –¥–∞—Ç—á–∏–∫–∞–º–∏ (OLED —ç–∫—Ä–∞–Ω)
- **ADC** - —á–∏—Ç–∞–µ—Ç –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã (0-3.3V)
- **PWM** - –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç–∏ LED –∏–ª–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –º–æ—Ç–æ—Ä–æ–≤

> üìö **–ü–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å** –≤—Å–µ—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –µ—Å—Ç—å –≤ [STM32F411_BlackPill_Datasheet.md](STM32F411_BlackPill_Datasheet.md)

---

## üìã –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ STM32F411CEU6

**–ö—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä:**

- **–Ø–¥—Ä–æ:** ARM Cortex-M4F @ 100 –ú–ì—Ü
- **–ü–∞–º—è—Ç—å:** 512 –ö–ë Flash + 128 –ö–ë RAM
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:** 3√óUART, 5√óSPI, 3√óI2C, USB OTG
- **–ê–Ω–∞–ª–æ–≥:** 16 –∫–∞–Ω–∞–ª–æ–≤ ADC (12-–±–∏—Ç)
- **PWM:** ~20 –∫–∞–Ω–∞–ª–æ–≤ (11 —Ç–∞–π–º–µ—Ä–æ–≤)

> üìñ **–î–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏** —Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫:
> [STM32F411_BlackPill_Datasheet.md](STM32F411_BlackPill_Datasheet.md#-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏-stm32f411ceu6)

---

## üîå –†–∞—Å–ø–∏–Ω–æ–≤–∫–∞ (Pinout)

### ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –æ—Å–Ω–æ–≤–Ω—ã–º –ø–∏–Ω–∞–º

**–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED:**

- **PC13** - LED (–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞: LOW = –≤–∫–ª—é—á–µ–Ω)

**–û—Ç–ª–∞–¥–∫–∞ (SWD) - –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è GPIO:**

- **PA13** - SWDIO
- **PA14** - SWCLK

**USB (–ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ USB —Ä–µ–∂–∏–º–∞):**

- **PA11** - USB D- (DM)
- **PA12** - USB D+ (DP)

**–ü–∏—Ç–∞–Ω–∏–µ:**

- **3V3** (–ø–∏–Ω—ã 20, 38, 39) - –í—ã—Ö–æ–¥ 3.3V
- **GND** (–ø–∏–Ω—ã 18, 19, 40) - –ó–µ–º–ª—è
- **VBAT** (–ø–∏–Ω 1) - –ü–∏—Ç–∞–Ω–∏–µ RTC –æ—Ç –±–∞—Ç–∞—Ä–µ–π–∫–∏

**–û—Å–Ω–æ–≤–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:**

- **USART1:** PA9/TX, PA10/RX (–∏–ª–∏ PB6/TX, PB7/RX)
- **USART2:** PA2/TX, PA3/RX
- **USART3:** PB10/TX, PB11/RX
- **SPI1:** PA4/NSS, PA5/SCK, PA6/MISO, PA7/MOSI
- **SPI2:** PB12/NSS, PB13/SCK, PB14/MISO, PB15/MOSI
- **I2C1:** PB6/SCL, PB7/SDA (–∏–ª–∏ PB8/SCL)
- **I2C2:** PB10/SCL, PB11/SDA
- **ADC:** PA0-PA7, PB0-PB1 (10 –∫–∞–Ω–∞–ª–æ–≤)

**–ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ (SWD):**

- **PA13** - SWDIO
- **PA14** - SWCLK
- **GND** - –ó–µ–º–ª—è
- **3V3** - –ü–∏—Ç–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

DIO —ç—Ç–æ - Digital Input/Output (—Ü–∏—Ñ—Ä–æ–≤–æ–π –≤—Ö–æ–¥/–≤—ã—Ö–æ–¥)
CLK —ç—Ç–æ - Clock (—Ç–∞–∫—Ç–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª) –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

> üìñ **–ü–æ–ª–Ω–∞—è –¥–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞** —Å–æ –≤—Å–µ–º–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
> [STM32F411_BlackPill_Datasheet.md](STM32F411_BlackPill_Datasheet.md#-–ø–æ–ª–Ω–∞—è-—Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞-black-pill-v31)

---

## üîã –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ

### –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±: USB Type-C

–ü—Ä–æ—Å—Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ USB-C –∫–∞–±–µ–ª—å –æ—Ç –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –∫ –ø–ª–∞—Ç–µ. –í—Å—ë! üéâ

```
–ö–æ–º–ø—å—é—Ç–µ—Ä/Powerbank ‚Üí USB-C –∫–∞–±–µ–ª—å ‚Üí Black Pill ‚Üí –†–∞–±–æ—Ç–∞–µ—Ç!
```

### –î—Ä—É–≥–∏–µ —Å–ø–æ—Å–æ–±—ã (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

- **–ü–∏–Ω 5V:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å 5V –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- **–ü–∏–Ω 3V3:** –ü–æ–¥–∫–ª—é—á–∏—Ç—å 3.3V –Ω–∞–ø—Ä—è–º—É—é
  ‚ö†Ô∏è **–û–ü–ê–°–ù–û:** –ù–µ –±–æ–ª—å—à–µ 3.6V! –£–±—å—ë—Ç —á–∏–ø!

> üí° **–î–ª—è –Ω–∞—á–∞–ª–∞** –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ USB-C - —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏ –ø—Ä–æ—Å—Ç–æ

---

## üî¥ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED (PC13)

–ù–∞ –ø–ª–∞—Ç–µ –µ—Å—Ç—å LED –Ω–∞ –ø–∏–Ω–µ **PC13**.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –û–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç!

- `LOW (0)` = LED **–≤–∫–ª—é—á–µ–Ω** ‚úÖ
- `HIGH (1)` = LED **–≤—ã–∫–ª—é—á–µ–Ω** ‚ùå

```c
// –í–∫–ª—é—á–∏—Ç—å LED
HAL_GPIO_WritePin(GPIOC, GPIO_PIN_13, GPIO_PIN_RESET);  // 0 = –≤–∫–ª—é—á–µ–Ω

// –í—ã–∫–ª—é—á–∏—Ç—å LED
HAL_GPIO_WritePin(GPIOC, GPIO_PIN_13, GPIO_PIN_SET);    // 1 = –≤—ã–∫–ª—é—á–µ–Ω

// –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å LED
HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
```

---

## üîò –ö–Ω–æ–ø–∫–∏ –Ω–∞ –ø–ª–∞—Ç–µ

### RESET - –∫–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

–ù–∞–∂–∞–ª–∏ = –ø–ª–∞—Ç–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞.

**–ö–æ–≥–¥–∞ –Ω—É–∂–Ω–∞:**

- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–ª–∞
- –•–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É

### BOOT - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –∫–Ω–æ–ø–∫–∞

**–î–ª—è —á–µ–≥–æ:** –í–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ (DFU mode)

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

1. –ó–∞–∂–º–∏—Ç–µ BOOT
2. –ù–∞–∂–º–∏—Ç–µ RESET (–¥–µ—Ä–∂–∞ BOOT)
3. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –æ–±–µ –∫–Ω–æ–ø–∫–∏
‚Üí –ü–ª–∞—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ DFU

**–û–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω–∞** - –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ ST-Link

---

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ST-Link

**ST-Link V2** - —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä –¥–ª—è STM32. –° –Ω–∏–º –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∫–æ–¥.

### –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å (–ø—Ä–æ—Å—Ç–æ!)

**–ù—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ 3 –ø—Ä–æ–≤–æ–¥–∞:**

```
ST-Link V2          ‚Üí    Black Pill
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
SWDIO (–ø–∏–Ω 4)       ‚Üí    PA13 (DIO)
SWCLK (–ø–∏–Ω 2)       ‚Üí    PA14 (SCK)
GND   (–ø–∏–Ω 5)       ‚Üí    GND
```

**–ü–∏—Ç–∞–Ω–∏–µ:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ USB-C –∫ Black Pill –æ—Ç–¥–µ–ª—å–Ω–æ.

### –í–∞–∂–Ω–æ! ‚ö†Ô∏è

1. **PA13 –∏ PA14** - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ! –û–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
2. **GND –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!** –í—Å–µ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ –∑–µ–º–ª—é
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–≤–æ–¥–∞ (10-20 —Å–º)

---

## üöÄ –ü–µ—Ä–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PlatformIO

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å ST-Link –∫ Black Pill

```
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ 4 –ø—Ä–æ–≤–æ–¥–∞:
SWDIO ‚Üí PA13
SWCLK ‚Üí PA14
GND   ‚Üí GND
(3.3V ‚Üí 3V3 - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å ST-Link –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ ST-Link –≤–∏–¥–µ–Ω —Å–∏—Å—Ç–µ–º–æ–π
ioreg -p IOUSB -w0 | grep -i "stlink"
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**

```
+-o STM32 STLink@00121000  <class IOUSBHostDevice, id 0x...>
```

### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–∏—Ç—å Black Pill –∫ USB (–ø–∏—Ç–∞–Ω–∏–µ)

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç ST-Link (—Ç–æ–≥–¥–∞ USB –Ω–µ –Ω—É–∂–µ–Ω).

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å platformio.ini

```ini
[env:blackpill_f411ce]
platform = ststm32
board = blackpill_f411ce
framework = stm32cube
upload_protocol = stlink
debug_tool = stlink
```

### –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É

–§–∞–π–ª `src/main.c`:

```c
#include "main.h"

void SystemClock_Config(void);

int main(void)
{
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è HAL
    HAL_Init();

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    SystemClock_Config();

    // –í–∫–ª—é—á–∏—Ç—å —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GPIOC
    __HAL_RCC_GPIOC_CLK_ENABLE();

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PC13 –∫–∞–∫ –≤—ã—Ö–æ–¥
    GPIO_InitTypeDef GPIO_InitStruct = {0};
    GPIO_InitStruct.Pin = GPIO_PIN_13;
    GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
    GPIO_InitStruct.Pull = GPIO_NOPULL;
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
    HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

    // –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª
    while (1)
    {
        HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);  // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å LED
        HAL_Delay(500);                           // –ó–∞–¥–µ—Ä–∂–∫–∞ 500 –º—Å
    }
}

void SystemClock_Config(void)
{
    RCC_OscInitTypeDef RCC_OscInitStruct = {0};
    RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è
    __HAL_RCC_PWR_CLK_ENABLE();
    __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HSE –∏ PLL
    RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
    RCC_OscInitStruct.HSEState = RCC_HSE_ON;
    RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
    RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
    RCC_OscInitStruct.PLL.PLLM = 25;  // 25 –ú–ì—Ü / 25 = 1 –ú–ì—Ü
    RCC_OscInitStruct.PLL.PLLN = 192; // 1 –ú–ì—Ü √ó 192 = 192 –ú–ì—Ü
    RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2; // 192 –ú–ì—Ü / 2 = 96 –ú–ì—Ü
    RCC_OscInitStruct.PLL.PLLQ = 4;   // 192 –ú–ì—Ü / 4 = 48 –ú–ì—Ü (USB)

    if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
    {
        Error_Handler();
    }

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é —á–∞—Å—Ç–æ—Ç—É –∏ –¥–µ–ª–∏—Ç–µ–ª–∏ —à–∏–Ω
    RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK
                                | RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
    RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
    RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;   // 96 –ú–ì—Ü
    RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;    // 48 –ú–ì—Ü
    RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;    // 96 –ú–ì—Ü

    if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_3) != HAL_OK)
    {
        Error_Handler();
    }
}

void Error_Handler(void)
{
    __disable_irq();
    while (1)
    {
        // –ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    }
}
```

### –®–∞–≥ 6: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /Users/maksym_poskannyi/Documents/PlatformIO/Projects/STM32_Core
~/.platformio/penv/bin/platformio run
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

```
Building .pio/build/blackpill_f411ce/firmware.bin
RAM:   [          ]   0.0% (used 44 bytes from 131072 bytes)
Flash: [          ]   0.7% (used 3424 bytes from 524288 bytes)
========================= [SUCCESS] =========================
```

### –®–∞–≥ 7: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–ª–∞—Ç—É

```bash
~/.platformio/penv/bin/platformio run --target upload
```

**–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏:**

```
Configuring upload protocol...
AVAILABLE: blackmagic, cmsis-dap, jlink, stlink
CURRENT: upload_protocol = stlink
Uploading .pio/build/blackpill_f411ce/firmware.elf
...
** Programming Started **
** Programming Finished **
** Verify Started **
** Verified OK **
** Resetting Target **
========================= [SUCCESS] =========================
```

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

**LED –Ω–∞ –ø–∏–Ω–µ PC13 –¥–æ–ª–∂–µ–Ω –º–∏–≥–∞—Ç—å** —Å —á–∞—Å—Ç–æ—Ç–æ–π 1 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É (500 –º—Å –≤–∫–ª—é—á—ë–Ω, 500 –º—Å –≤—ã–∫–ª—é—á–µ–Ω).

‚úÖ **–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!** üéâ

---

## üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥—á–∏–∫–∞

```bash
~/.platformio/penv/bin/platformio debug
```

–ò–ª–∏ –≤ VS Code:

- –ù–∞–∂–º–∏—Ç–µ **F5**
- –ò–ª–∏ **Debug ‚Üí Start Debugging**

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∞–¥—á–∏–∫–∞

1. **Breakpoints** - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ç–æ—á–∫–µ
2. **Step Over (F10)** - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
3. **Step Into (F11)** - –≤–æ–π—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é
4. **Continue (F5)** - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
5. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** - –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
6. **Call Stack** - —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
7. **–†–µ–≥–∏—Å—Ç—Ä—ã** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è breakpoint

```c
int main(void)
{
    HAL_Init();
    SystemClock_Config();

    __HAL_RCC_GPIOC_CLK_ENABLE();

    // –ü–æ—Å—Ç–∞–≤—å—Ç–µ breakpoint –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ (–∫–ª–∏–∫–Ω–∏—Ç–µ —Å–ª–µ–≤–∞ –æ—Ç –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫–∏)
    GPIO_InitTypeDef GPIO_InitStruct = {0};  // ‚Üê Breakpoint –∑–¥–µ—Å—å

    while (1)
    {
        HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
        HAL_Delay(500);  // ‚Üê –ò–ª–∏ –∑–¥–µ—Å—å
    }
}
```

**–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è** –Ω–∞ breakpoint, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ:

- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü–æ—à–∞–≥–æ–≤–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

## üîß –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### ST-Link –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

- USB –∫–∞–±–µ–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω
- ST-Link —Å–≤–µ—Ç–∏—Ç—Å—è (LED –≥–æ—Ä–∏—Ç)

### –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. –ü—Ä–æ–≤–æ–¥–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
   - SWDIO ‚Üí PA13
   - SWCLK ‚Üí PA14
   - GND ‚Üí GND
2. Black Pill –ø–æ–ª—É—á–∞–µ—Ç –ø–∏—Ç–∞–Ω–∏–µ (USB –ø–æ–¥–∫–ª—é—á–µ–Ω)
3. PA13 –∏ PA14 –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –≤–∞—à–µ–º –∫–æ–¥–µ

### –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å, –Ω–æ LED –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

- LED –Ω–∞ PC13 —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç: `GPIO_PIN_RESET` = –≤–∫–ª—é—á—ë–Ω
- –ù–µ –∑–∞–±—ã–ª–∏ –≤—ã–∑–≤–∞—Ç—å `SystemClock_Config()`
- –í–∫–ª—é—á–∏–ª–∏ —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `__HAL_RCC_GPIOC_CLK_ENABLE()`

---

## üìä Black Pill vs Arduino Nano

| –ß—Ç–æ? | Black Pill | Arduino Nano |
|------|------------|--------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å** | 100 –ú–ì—Ü | 16 –ú–ì—Ü |
| **–ü–∞–º—è—Ç—å** | 512 –ö–ë | 32 –ö–ë |
| **RAM** | 128 –ö–ë | 2 –ö–ë |
| **–¶–µ–Ω–∞** | ~$4-5 | ~$5-6 |

**–í—ã–≤–æ–¥:** Black Pill –≤ 6 —Ä–∞–∑ –±—ã—Å—Ç—Ä–µ–µ –∏ –∏–º–µ–µ—Ç –≤ 16 —Ä–∞–∑ –±–æ–ª—å—à–µ –ø–∞–º—è—Ç–∏!

---

## üéì –ß—Ç–æ –¥–∞–ª—å—à–µ?

–¢–µ–ø–µ—Ä—å –≤—ã –≥–æ—Ç–æ–≤—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞—Ç—å Black Pill! üéâ

**–°–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–∫–∏:**

- GPIO - –∫–Ω–æ–ø–∫–∏ –∏ LED
- UART - —Å–≤—è–∑—å —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º
- PWM - —è—Ä–∫–æ—Å—Ç—å LED –∏ –º–æ—Ç–æ—Ä—ã
- ADC - —á—Ç–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–æ–≤
- I2C - OLED —ç–∫—Ä–∞–Ω

---

## üí° –í–∞–∂–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

**‚úÖ –î–µ–ª–∞–π—Ç–µ:**

- –í—Å–µ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ GND
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–≤–æ–¥–∞ (10-20 —Å–º)
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∫–æ–¥ —Ä–µ–≥—É–ª—è—Ä–Ω–æ

**‚ùå –ù–ï –¥–µ–ª–∞–π—Ç–µ:**

- –ù–µ –ø–æ–¥–∞–≤–∞–π—Ç–µ >3.6V –Ω–∞ –ª—é–±–æ–π –ø–∏–Ω!
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PA13/PA14 –≤ –∫–æ–¥–µ
- –ù–µ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ ST-Link –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### üìñ –õ–æ–∫–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

**–û—Å–Ω–æ–≤–Ω–æ–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ Black Pill:**

[STM32F411_BlackPill_Datasheet.md](STM32F411_BlackPill_Datasheet.md)

–°–æ–¥–µ—Ä–∂–∏—Ç:

- ‚úÖ –ü–æ–ª–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ STM32F411CEU6
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—É—é —Ä–∞—Å–ø–∏–Ω–æ–≤–∫—É –≤—Å–µ—Ö 40 –ø–∏–Ω–æ–≤ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã GPIO, ADC, UART, SPI, I2C, –¢–∞–π–º–µ—Ä–æ–≤
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –ø–∏—Ç–∞–Ω–∏—é –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º
- ‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### üåê –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è STMicroelectronics

1. **STM32F411CE Datasheet** - [DS9994](https://www.st.com/resource/en/datasheet/stm32f411ce.pdf)
2. **STM32F411 Reference Manual** - [RM0383](https://www.st.com/resource/en/reference_manual/dm00119316-stm32f411xc-e-advanced-arm-based-32-bit-mcus-stmicroelectronics.pdf)
3. **HAL User Manual** - [UM1725](https://www.st.com/resource/en/user_manual/um1725-description-of-stm32f4-hal-and-lowlayer-drivers-stmicroelectronics.pdf)

### üîß WeAct Studio (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å –ø–ª–∞—Ç—ã)

- [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/WeActStudio/WeActStudio.MiniSTM32F4x1)
- –°—Ö–µ–º—ã –ø–ª–∞—Ç—ã, 3D –º–æ–¥–µ–ª–∏, –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

---

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ —Å Black Pill V3.1! üöÄ**

*–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω 15.02.2026 –∫–∞–∫ —á–∞—Å—Ç—å —É—á–µ–±–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –ø–æ STM32 –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö.*
