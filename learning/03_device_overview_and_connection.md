# üìö –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Black Pill V3.1 –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ø—Ä–æ–µ–∫—Ç—É

## üéØ –ß—Ç–æ —Ç–∞–∫–æ–µ Black Pill V3.1?

**WeAct Black Pill V3.1** - —ç—Ç–æ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –ø–ª–∞—Ç–∞ –Ω–∞ –±–∞–∑–µ STM32F411CEU6, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–∞—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—É—á–µ–Ω–∏—è —Ä–∞–±–æ—Ç–µ —Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ STM32.

### üîç –í–∏–∑—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø–ª–∞—Ç–æ–π

```diagram
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ    Black Pill V3.1      ‚îÇ
                 ‚îÇ                         ‚îÇ
    [BOOT] ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚óã BOOT0  STM32F411CEU6 ‚îÇ
    [RESET] ‚óè‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚óã NRST                  ‚îÇ
                 ‚îÇ           [LED]         ‚îÇ
    [LED PC13]   ‚îÇ             ‚óè           ‚îÇ
                 ‚îÇ                         ‚îÇ
    [3V3]  ‚óã‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ 3V3                 GND ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óã [GND]
    [GND]  ‚óã‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ GND                 3V3 ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óã [3V3]
    [5V]   ‚óã‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ 5V                  B12 ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚óã
                 ‚îÇ ...                 ... ‚îÇ
                 ‚îÇ PA0-PA15, PB0-PB15      ‚îÇ
                 ‚îÇ                         ‚îÇ
                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                      [USB Type-C]
```

### üèÜ –ü–æ—á–µ–º—É Black Pill?

| –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------------|----------|
| **üí∞ –¶–µ–Ω–∞** | –î–µ—à–µ–≤–ª–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö –ø–ª–∞—Ç STM32 Nucleo |
| **üì¶ –ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å** | –†–∞–∑–º–µ—Ä –∫–∞–∫ —É Arduino Nano (~53√ó18 –º–º) |
| **üîå Breadboard-friendly** | –õ–µ–≥–∫–æ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ –º–∞–∫–µ—Ç–Ω—É—é –ø–ª–∞—Ç—É |
| **‚ö° –ú–æ—â–Ω–æ—Å—Ç—å** | 100 –ú–ì—Ü vs 16 –ú–ì—Ü —É Arduino Nano |
| **üß† –ü–∞–º—è—Ç—å** | 512 –ö–ë Flash + 128 –ö–ë RAM |
| **üîß –ü–µ—Ä–∏—Ñ–µ—Ä–∏—è** | 3√óUART, 5√óSPI, 3√óI2C, USB OTG, ADC, —Ç–∞–π–º–µ—Ä—ã |

---

## üìñ –ì–ª–æ—Å—Å–∞—Ä–∏–π: –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π

–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã –ø–æ–ª–µ–∑–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –≤—Å–µ —ç—Ç–∏ –±—É–∫–≤—ã –∏ –∞–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä—ã!

### üî§ –û–±—â–∏–µ —Ç–µ—Ä–º–∏–Ω—ã

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–±—ä—è—Å–Ω–µ–Ω–∏–µ |
|------------|-------------|------------|
| **MCU** | MicroController Unit | –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä - –∫–æ–º–ø—å—é—Ç–µ—Ä –Ω–∞ –æ–¥–Ω–æ–º —á–∏–ø–µ |
| **CPU** | Central Processing Unit | –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä |
| **FPU** | Floating Point Unit | –ë–ª–æ–∫ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–¥–ª—è float, double) |
| **RAM** | Random Access Memory | –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å (—Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏) |
| **Flash** | Flash Memory | –ü–∞–º—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏) |
| **ROM** | Read-Only Memory | –ü–∞–º—è—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è (—Ä–µ–¥–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) |
| **EEPROM** | Electrically Erasable Programmable ROM | –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏ —Å—Ç–∏—Ä–∞–µ–º–∞—è –ø–∞–º—è—Ç—å |
| **GPIO** | General Purpose Input/Output | –ü–∏–Ω—ã –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |
| **LED** | Light-Emitting Diode | –°–≤–µ—Ç–æ–¥–∏–æ–¥ |
| **USB** | Universal Serial Bus | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —à–∏–Ω–∞ |
| **OTG** | On-The-Go | USB —Ä–µ–∂–∏–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Ö–æ—Å—Ç–∞ |

### üì° –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —Å–≤—è–∑–∏

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –°–∫–æ—Ä–æ—Å—Ç—å | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|------------|-------------|----------|------------|
| **UART** | Universal Asynchronous Receiver-Transmitter | ~115 –∫–±–∏—Ç/—Å | GPS, Bluetooth, Serial Monitor |
| **USART** | Universal Synchronous/Asynchronous Receiver-Transmitter | ~12 –ú–±–∏—Ç/—Å | –¢–æ –∂–µ —á—Ç–æ UART + —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ä–µ–∂–∏–º |
| **SPI** | Serial Peripheral Interface | –î–æ 50 –ú–±–∏—Ç/—Å | SD –∫–∞—Ä—Ç—ã, –¥–∏—Å–ø–ª–µ–∏, –¥–∞—Ç—á–∏–∫–∏ |
| **I2C** | Inter-Integrated Circuit | 100-400 –∫–±–∏—Ç/—Å | OLED, –¥–∞—Ç—á–∏–∫–∏, EEPROM |
| **I2S** | Inter-IC Sound | –î–æ 3 –ú–±–∏—Ç/—Å | –ê—É–¥–∏–æ (–º–∏–∫—Ä–æ—Ñ–æ–Ω—ã, DAC) |
| **CAN** | Controller Area Network | –î–æ 1 –ú–±–∏—Ç/—Å | –ê–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–µ —Å–µ—Ç–∏ (–Ω–µ—Ç –≤ F411) |
| **SDIO** | Secure Digital Input/Output | –î–æ 50 –ú–ë/—Å | SD –∫–∞—Ä—Ç—ã –≤—ã—Å–æ–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏ |

### üîß –ü–µ—Ä–∏—Ñ–µ—Ä–∏—è –∏ —Ä–µ–∂–∏–º—ã

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| **ADC** | Analog-to-Digital Converter | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∞–Ω–∞–ª–æ–≥–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª (0-3.3V) –≤ —á–∏—Å–ª–æ (0-4095) |
| **DAC** | Digital-to-Analog Converter | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —á–∏—Å–ª–æ –≤ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ (–Ω–µ—Ç –≤ F411) |
| **PWM** | Pulse Width Modulation | –®–∏—Ä–æ—Ç–Ω–æ-–∏–º–ø—É–ª—å—Å–Ω–∞—è –º–æ–¥—É–ª—è—Ü–∏—è (–¥–ª—è LED, –º–æ—Ç–æ—Ä–æ–≤) |
| **DMA** | Direct Memory Access | –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ø–∞–º—è—Ç–∏ (–±–µ–∑ —É—á–∞—Å—Ç–∏—è CPU) |
| **RTC** | Real-Time Clock | –ß–∞—Å—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ |
| **WDT** | Watchdog Timer | –°—Ç–æ—Ä–æ–∂–µ–≤–æ–π —Ç–∞–π–º–µ—Ä (—Å–±—Ä–æ—Å –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏) |
| **IWDG** | Independent Watchdog | –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π —Å—Ç–æ—Ä–æ–∂–µ–≤–æ–π —Ç–∞–π–º–µ—Ä |
| **WWDG** | Window Watchdog | –û–∫–æ–Ω–Ω—ã–π —Å—Ç–æ—Ä–æ–∂–µ–≤–æ–π —Ç–∞–π–º–µ—Ä |

### üîå –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| **SWD** | Serial Wire Debug | –î–≤—É—Ö–ø—Ä–æ–≤–æ–¥–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ª–∞–¥–∫–∏ (SWDIO + SWCLK) |
| **JTAG** | Joint Test Action Group | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç–ª–∞–¥–∫–∏ (5 –ø—Ä–æ–≤–æ–¥–æ–≤, —Å—Ç–∞—Ä—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç) |
| **SWDIO** | Serial Wire Debug Input/Output | –õ–∏–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö SWD (–¥–≤—É–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è) |
| **SWCLK** | Serial Wire Debug Clock | –õ–∏–Ω–∏—è —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è SWD |
| **SWO** | Serial Wire Output | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –¥–ª—è printf –æ—Ç–ª–∞–¥–∫–∏ |
| **SWIM** | Single Wire Interface Module | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è STM8 (–Ω–µ STM32!) |
| **DFU** | Device Firmware Upgrade | –†–µ–∂–∏–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ USB |
| **ISP** | In-System Programming | –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ |
| **ST-Link** | STMicroelectronics Link | –ü—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä/–æ—Ç–ª–∞–¥—á–∏–∫ –æ—Ç ST |

### ‚ö° –¢–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–∏—Ç–∞–Ω–∏–µ

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| **RCC** | Reset and Clock Control | –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–±—Ä–æ—Å–∞ –∏ —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| **HSE** | High-Speed External | –í–Ω–µ—à–Ω–∏–π –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (–∫–≤–∞—Ä—Ü 25 –ú–ì—Ü) |
| **HSI** | High-Speed Internal | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (16 –ú–ì—Ü) |
| **LSE** | Low-Speed External | –í–Ω–µ—à–Ω–∏–π –Ω–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (32768 –ì—Ü –¥–ª—è RTC) |
| **LSI** | Low-Speed Internal | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–∏–∑–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä (32 –∫–ì—Ü) |
| **PLL** | Phase-Locked Loop | –£–º–Ω–æ–∂–∏—Ç–µ–ª—å —á–∞—Å—Ç–æ—Ç—ã (HSE 25 –ú–ì—Ü ‚Üí 96 –ú–ì—Ü) |
| **SYSCLK** | System Clock | –°–∏—Å—Ç–µ–º–Ω–∞—è —Ç–∞–∫—Ç–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ (—á–∞—Å—Ç–æ—Ç–∞ CPU) |
| **HCLK** | AHB Clock | –ß–∞—Å—Ç–æ—Ç–∞ —à–∏–Ω—ã AHB (–æ–±—ã—á–Ω–æ = SYSCLK) |
| **PCLK1** | APB1 Clock | –ß–∞—Å—Ç–æ—Ç–∞ —à–∏–Ω—ã APB1 (–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è) |
| **PCLK2** | APB2 Clock | –ß–∞—Å—Ç–æ—Ç–∞ —à–∏–Ω—ã APB2 (–±—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è) |
| **AHB** | Advanced High-performance Bus | –ë—ã—Å—Ç—Ä–∞—è —à–∏–Ω–∞ –¥–ª—è DMA, Flash, GPIO |
| **APB1** | Advanced Peripheral Bus 1 | –ú–µ–¥–ª–µ–Ω–Ω–∞—è —à–∏–Ω–∞ (UART, I2C, —Ç–∞–π–º–µ—Ä—ã) |
| **APB2** | Advanced Peripheral Bus 2 | –ë—ã—Å—Ç—Ä–∞—è —à–∏–Ω–∞ (SPI, ADC) |
| **PWR** | Power Control | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏–µ–º |
| **VDD** | Voltage Drain Drain | –ü–∏—Ç–∞–Ω–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–π —á–∞—Å—Ç–∏ (+3.3V) |
| **VDDA** | Voltage Drain Drain Analog | –ü–∏—Ç–∞–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤–æ–π —á–∞—Å—Ç–∏ (+3.3V) |
| **VSS** | Voltage Source Source | –ó–µ–º–ª—è (0V) |
| **VBAT** | Battery Voltage | –ü–∏—Ç–∞–Ω–∏–µ –æ—Ç –±–∞—Ç–∞—Ä–µ–π–∫–∏ (–¥–ª—è RTC) |

### üéõÔ∏è –†–µ–∂–∏–º—ã GPIO

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| **PP** | Push-Pull | –í—ã—Ö–æ–¥ –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å 0V –∏ 3.3V (–æ–±—ã—á–Ω—ã–π —Ä–µ–∂–∏–º) |
| **OD** | Open-Drain | –í—ã—Ö–æ–¥ –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ 0V (–Ω—É–∂–Ω–∞ –ø–æ–¥—Ç—è–∂–∫–∞) |
| **AF** | Alternate Function | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (UART, SPI, I2C) |
| **AN** | Analog | –ê–Ω–∞–ª–æ–≥–æ–≤—ã–π –≤—Ö–æ–¥ (–¥–ª—è ADC) |
| **PU** | Pull-Up | –ü–æ–¥—Ç—è–∂–∫–∞ –∫ +3.3V (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä ~40 –∫–û–º) |
| **PD** | Pull-Down | –ü–æ–¥—Ç—è–∂–∫–∞ –∫ GND (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–µ–∑–∏—Å—Ç–æ—Ä ~40 –∫–û–º) |
| **NOPULL** | No Pull | –ë–µ–∑ –ø–æ–¥—Ç—è–∂–∫–∏ (–ø–∏–Ω "–ø–ª–∞–≤–∞–µ—Ç") |

### üñ•Ô∏è –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| **IRQ** | Interrupt Request | –ó–∞–ø—Ä–æ—Å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è |
| **ISR** | Interrupt Service Routine | –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (—Ñ—É–Ω–∫—Ü–∏—è) |
| **NVIC** | Nested Vectored Interrupt Controller | –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π ARM Cortex |
| **EXTI** | External Interrupt | –í–Ω–µ—à–Ω–µ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ (–æ—Ç GPIO) |
| **IT** | Interrupt | –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ (–≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö —Ñ—É–Ω–∫—Ü–∏–π HAL) |

### üìö –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|-------------|----------|
| **HAL** | Hardware Abstraction Layer | –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ STM –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **LL** | Low-Layer | –ù–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ (–±—ã—Å—Ç—Ä–µ–µ HAL) |
| **CMSIS** | Cortex Microcontroller Software Interface Standard | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è ARM Cortex |
| **IDE** | Integrated Development Environment | –°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (VS Code, STM32CubeIDE) |
| **GCC** | GNU Compiler Collection | –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–ª—è C/C++ |
| **GDB** | GNU Debugger | –û—Ç–ª–∞–¥—á–∏–∫ |
| **OpenOCD** | Open On-Chip Debugger | –ü—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è —Å–≤—è–∑–∏ —Å ST-Link |
| **PIO** | PlatformIO | –°—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è embedded —Å–∏—Å—Ç–µ–º |

### üî¢ –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

| –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ | –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|------------|-------------|----------|
| **–ú–ì—Ü** | –ú–µ–≥–∞–≥–µ—Ä—Ü | 1 000 000 –ì—Ü (—Ç–∞–∫—Ç–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞) |
| **–∫–ì—Ü** | –ö–∏–ª–æ–≥–µ—Ä—Ü | 1 000 –ì—Ü |
| **–ö–ë** | –ö–∏–ª–æ–±–∞–π—Ç | 1024 –±–∞–π—Ç–∞ |
| **–ú–ë** | –ú–µ–≥–∞–±–∞–π—Ç | 1024 –ö–ë = 1 048 576 –±–∞–π—Ç |
| **–º–ê** | –ú–∏–ª–ª–∏–∞–º–ø–µ—Ä | 0.001 –ê–º–ø–µ—Ä–∞ (—Ç–æ–∫) |
| **–º–∫–ê** | –ú–∏–∫—Ä–æ–∞–º–ø–µ—Ä | 0.000001 –ê–º–ø–µ—Ä–∞ |
| **–º—Å** | –ú–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞ | 0.001 —Å–µ–∫—É–Ω–¥—ã |
| **–º–∫—Å** | –ú–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞ | 0.000001 —Å–µ–∫—É–Ω–¥—ã |
| **–Ω—Å** | –ù–∞–Ω–æ—Å–µ–∫—É–Ω–¥–∞ | 0.000000001 —Å–µ–∫—É–Ω–¥—ã |
| **–±–∏—Ç** | Bit | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (0 –∏–ª–∏ 1) |
| **–±–∞–π—Ç** | Byte | 8 –±–∏—Ç |
| **DMIPS** | Dhrystone Million Instructions Per Second | –ú–∏–ª–ª–∏–æ–Ω–æ–≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –≤ —Å–µ–∫—É–Ω–¥—É (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å) |
| **MSPS** | Mega Samples Per Second | –ú–∏–ª–ª–∏–æ–Ω–æ–≤ –æ—Ç—Å—á–µ—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (ADC) |

### üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ

```c
// GPIO
GPIO_InitTypeDef GPIO_InitStruct;        // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ GPIO
GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;  // Push-Pull –≤—ã—Ö–æ–¥
GPIO_InitStruct.Pull = GPIO_PULLUP;      // –ü–æ–¥—Ç—è–∂–∫–∞ –∫ +3.3V
GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_HIGH; // –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å

// RCC (—Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
__HAL_RCC_GPIOC_CLK_ENABLE();            // –í–∫–ª—é—á–∏—Ç—å —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GPIOC
RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE; // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HSE (–∫–≤–∞—Ä—Ü)

// UART
UART_HandleTypeDef huart1;               // –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä UART1
HAL_UART_Transmit(&huart1, data, len, timeout); // –ü–µ—Ä–µ–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

// ADC
ADC_HandleTypeDef hadc1;                 // –î–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä ADC1
uint16_t value = HAL_ADC_GetValue(&hadc1); // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ (0-4095)

// –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
HAL_NVIC_EnableIRQ(EXTI0_IRQn);         // –í–∫–ª—é—á–∏—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ EXTI0
void EXTI0_IRQHandler(void) { ... }     // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è
```

---

## üìã –ü–æ–ª–Ω—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### üñ•Ô∏è –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: STM32F411CEU6

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü–æ—è—Å–Ω–µ–Ω–∏–µ |
|----------|----------|-----------|
| **–Ø–¥—Ä–æ** | ARM Cortex-M4F | 32-–±–∏—Ç–Ω—ã–π RISC –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —Å FPU |
| **–ß–∞—Å—Ç–æ—Ç–∞** | 100 –ú–ì—Ü | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–∞–∫—Ç–æ–≤–∞—è —á–∞—Å—Ç–æ—Ç–∞ |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | 125 DMIPS | Dhrystone Million Instructions Per Second |
| **Flash –ø–∞–º—è—Ç—å** | 512 –ö–ë | –ü–∞–º—è—Ç—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º—ã (—ç–Ω–µ—Ä–≥–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è) |
| **RAM** | 128 –ö–ë | –û–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å (—Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏) |
| **FPU** | –î–∞ | –ë–ª–æ–∫ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (float, double) |
| **–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è** | 2.0 - 3.6V | –†–∞–±–æ—á–∏–π –¥–∏–∞–ø–∞–∑–æ–Ω (–æ–±—ã—á–Ω–æ 3.3V) |
| **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ** | ~100 –º–ê @ 100 –ú–ì—Ü | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ –∏ —Ä–µ–∂–∏–º–∞ |

### üîå –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è

#### –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

| –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
|-----------|------------|------------|----------------------|
| **UART/USART** | 3 | –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å–≤—è–∑—å | GPS, Bluetooth –º–æ–¥—É–ª–∏, Serial Monitor |
| **SPI** | 5 | –í—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–∞—è —Å–≤—è–∑—å | SD –∫–∞—Ä—Ç—ã, –¥–∏—Å–ø–ª–µ–∏, NRF24L01 |
| **I2C** | 3 | –°–≤—è–∑—å —Å –¥–∞—Ç—á–∏–∫–∞–º–∏ | OLED –¥–∏—Å–ø–ª–µ–∏, BMP280, IMU —Å–µ–Ω—Å–æ—Ä—ã |
| **I2S** | 2 | –ê—É–¥–∏–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ú–∏–∫—Ä–æ—Ñ–æ–Ω—ã, –∞—É–¥–∏–æ DAC |
| **USB 2.0 OTG** | 1 | USB —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ/—Ö–æ—Å—Ç | Virtual COM Port, HID, Mass Storage |
| **SDIO** | 1 | SD –∫–∞—Ä—Ç—ã | –í—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π –¥–æ—Å—Ç—É–ø –∫ SD –∫–∞—Ä—Ç–∞–º |
| **CAN** | 0 | - | –ù–µ—Ç (–µ—Å—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –º–æ–¥–µ–ª—è—Ö STM32) |

#### –¢–∞–π–º–µ—Ä—ã –∏ PWM

| –¢–∏–ø —Ç–∞–π–º–µ—Ä–∞ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | –ö–∞–Ω–∞–ª—ã PWM | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-------------|------------|------------|------------|
| **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã** | 1 (TIM1) | 4 –∫–∞–Ω–∞–ª–∞ | –ú–æ—Ç–æ—Ä—ã, —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ã, LED |
| **–û–±—â–∏–µ —Ç–∞–π–º–µ—Ä—ã** | 4 (TIM2-TIM5) | 4 –∫–∞–Ω–∞–ª–∞ –∫–∞–∂–¥—ã–π | PWM, –∑–∞—Ö–≤–∞—Ç –∏–º–ø—É–ª—å—Å–æ–≤, —ç–Ω–∫–æ–¥–µ—Ä—ã |
| **–ë–∞–∑–æ–≤—ã–µ —Ç–∞–π–º–µ—Ä—ã** | 2 (TIM9-TIM11) | 2 –∫–∞–Ω–∞–ª–∞ | –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ |
| **RTC** | 1 | - | –ß–∞—Å—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ |
| **WatchDog** | 2 (IWDG, WWDG) | - | –°–±—Ä–æ—Å –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏ |
| **SysTick** | 1 | - | –°–∏—Å—Ç–µ–º–Ω—ã–π —Ç–∞–π–º–µ—Ä HAL (1 –º—Å) |

**–í—Å–µ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ:** ~20 –∫–∞–Ω–∞–ª–æ–≤ PWM!

#### –ê–Ω–∞–ª–æ–≥–æ–≤–∞—è –ø–µ—Ä–∏—Ñ–µ—Ä–∏—è

| –ú–æ–¥—É–ª—å | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|-----------|----------|
| **ADC** | 16 –∫–∞–Ω–∞–ª–æ–≤, 12-–±–∏—Ç | –ß—Ç–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤ |
| **–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ ADC** | 12 –±–∏—Ç (0-4095) | –¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–º–µ—Ä–µ–Ω–∏—è |
| **–°–∫–æ—Ä–æ—Å—Ç—å ADC** | 2.4 MSPS | –ú–∏–ª–ª–∏–æ–Ω–æ–≤ –æ—Ç—Å—á–µ—Ç–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É |
| **–î–∏–∞–ø–∞–∑–æ–Ω ADC** | 0 - 3.3V | –ù–µ –ø—Ä–µ–≤—ã—à–∞—Ç—å! |
| **DAC** | –ù–µ—Ç | –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –¶–ê–ü (–µ—Å—Ç—å –≤ –¥—Ä—É–≥–∏—Ö STM32) |

### üìå GPIO (–ü–∏–Ω—ã –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **–í—Å–µ–≥–æ –ø–∏–Ω–æ–≤** | 36 GPIO |
| **–ü–æ—Ä—Ç—ã** | GPIOA (16 –ø–∏–Ω–æ–≤), GPIOB (16 –ø–∏–Ω–æ–≤), GPIOC (3 –ø–∏–Ω–∞) |
| **5V —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å** | –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–∏–Ω–æ–≤ | –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å 5V —Å–∏–≥–Ω–∞–ª—ã |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–æ–∫ –Ω–∞ –ø–∏–Ω** | 25 –º–ê | –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞—Ç—å! |
| **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–æ–∫ –Ω–∞ –≥—Ä—É–ø–ø—É** | 120 –º–ê | –°—É–º–º–∞ —Ç–æ–∫–æ–≤ –≤—Å–µ—Ö –ø–∏–Ω–æ–≤ |

---

## üîå –†–∞—Å–ø–∏–Ω–æ–≤–∫–∞ (Pinout)

### üìä –ö–∞—Ä—Ç–∞ –ø–∏–Ω–æ–≤ Black Pill V3.1

```
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    VBAT‚îÇ1  ‚óè                      ‚óè 40‚îÇGND
     C13‚îÇ2  ‚óè                      ‚óè 39‚îÇ3V3
     C14‚îÇ3  ‚óè                      ‚óè 38‚îÇ3V3
     C15‚îÇ4  ‚óè                      ‚óè 37‚îÇNRST
     A0 ‚îÇ5  ‚óè  ADC0               ‚óè 36‚îÇB12
     A1 ‚îÇ6  ‚óè  ADC1               ‚óè 35‚îÇB13
     A2 ‚îÇ7  ‚óè  ADC2/TX2           ‚óè 34‚îÇB14
     A3 ‚îÇ8  ‚óè  ADC3/RX2           ‚óè 33‚îÇB15
     A4 ‚îÇ9  ‚óè  ADC4/NSS1          ‚óè 32‚îÇA8
     A5 ‚îÇ10 ‚óè  ADC5/SCK1          ‚óè 31‚îÇA9  (TX1/USB D+)
     A6 ‚îÇ11 ‚óè  ADC6/MISO1         ‚óè 30‚îÇA10 (RX1/USB D-)
     A7 ‚îÇ12 ‚óè  ADC7/MOSI1         ‚óè 29‚îÇA11 (USB D-)
     B0 ‚îÇ13 ‚óè  ADC8               ‚óè 28‚îÇA12 (USB D+)
     B1 ‚îÇ14 ‚óè  ADC9               ‚óè 27‚îÇA15 (JTDI)
     B2 ‚îÇ15 ‚óè  BOOT1              ‚óè 26‚îÇB3  (JTDO/SWO)
    B10 ‚îÇ16 ‚óè  SCL2/TX3           ‚óè 25‚îÇB4  (JTRST)
    B11 ‚îÇ17 ‚óè  SDA2/RX3           ‚óè 24‚îÇB5
    GND ‚îÇ18 ‚óè                      ‚óè 23‚îÇB6  (SCL1/TX1)
    GND ‚îÇ19 ‚óè                      ‚óè 22‚îÇB7  (SDA1/RX1)
     3V3‚îÇ20 ‚óè                      ‚óè 21‚îÇB8
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  [USB-C]
```

### üé® –¶–≤–µ—Ç–æ–≤–∞—è –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π

- **üî¥ –ü–∏—Ç–∞–Ω–∏–µ:** VBAT, 3V3, GND
- **üü¢ –ê–Ω–∞–ª–æ–≥–æ–≤—ã–µ –≤—Ö–æ–¥—ã (ADC):** A0-A7, B0-B1 (10 –∫–∞–Ω–∞–ª–æ–≤)
- **üîµ –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è UART:** TX1/RX1, TX2/RX2, TX3/RX3
- **üü° SPI1:** NSS/SCK/MISO/MOSI (PA4-PA7)
- **üü† I2C1:** SCL1/SDA1 (PB6/PB7)
- **üü£ I2C2:** SCL2/SDA2 (PB10/PB11)
- **‚ö´ USB:** A11/A12 (D-/D+)
- **üîò SWD/JTAG:** PA13-PA15, PB3-PB4 (–æ—Ç–ª–∞–¥–∫–∞)

### üìç –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∏–Ω—ã

| –ü–∏–Ω | –ù–∞–∑–≤–∞–Ω–∏–µ | –§—É–Ω–∫—Ü–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----|----------|---------|------------|
| **PC13** | LED | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED | **Inverted:** LOW = –≤–∫–ª—é—á–µ–Ω, HIGH = –≤—ã–∫–ª—é—á–µ–Ω |
| **PA13** | SWDIO | –û—Ç–ª–∞–¥–∫–∞ SWD | –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è GPIO! (–Ω—É–∂–µ–Ω –¥–ª—è ST-Link) |
| **PA14** | SWCLK | –û—Ç–ª–∞–¥–∫–∞ SWD | –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è GPIO! (–Ω—É–∂–µ–Ω –¥–ª—è ST-Link) |
| **PA11** | USB D- | USB Data - | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ USB —Ä–µ–∂–∏–º–µ |
| **PA12** | USB D+ | USB Data + | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ USB —Ä–µ–∂–∏–º–µ |
| **PH0** | OSC_IN | –í–Ω–µ—à–Ω–∏–π –∫–≤–∞—Ä—Ü 25 –ú–ì—Ü | –ó–∞–Ω—è—Ç –∫–≤–∞—Ä—Ü–µ–≤—ã–º —Ä–µ–∑–æ–Ω–∞—Ç–æ—Ä–æ–º |
| **PH1** | OSC_OUT | –í–Ω–µ—à–Ω–∏–π –∫–≤–∞—Ä—Ü 25 –ú–ì—Ü | –ó–∞–Ω—è—Ç –∫–≤–∞—Ä—Ü–µ–≤—ã–º —Ä–µ–∑–æ–Ω–∞—Ç–æ—Ä–æ–º |
| **NRST** | Reset | –°–±—Ä–æ—Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ | –ö–Ω–æ–ø–∫–∞ RESET –Ω–∞ –ø–ª–∞—Ç–µ |
| **BOOT0** | Boot | –†–µ–∂–∏–º –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ | –ö–Ω–æ–ø–∫–∞ BOOT –Ω–∞ –ø–ª–∞—Ç–µ |

---

## üìã –î–µ—Ç–∞–ª—å–Ω–∞—è —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞ Black Pill V3.1 (STM32F411CEU6)

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–∏–Ω–æ–≤ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

> **–ò—Å—Ç–æ—á–Ω–∏–∫:** WeAct Studio Official GitHub + STM32F411CE Datasheet

#### –õ–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –ø–ª–∞—Ç—ã (–ø–∏–Ω—ã 1-20)

| ‚Ññ | –ü–∏–Ω | –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | ADC | Timer | UART | SPI | I2C | –î—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
|---|-----|------------------|-----|-------|------|-----|-----|----------------|
| **1** | **VBAT** | –ü–∏—Ç–∞–Ω–∏–µ –±–∞—Ç–∞—Ä–µ–π–∫–∏ RTC | - | - | - | - | - | 2.0-3.6V –¥–ª—è RTC |
| **2** | **PC13** | GPIO / LED | - | - | - | - | - | **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED** (–∏–Ω–≤–µ—Ä—Ç.), RTC_OUT |
| **3** | **PC14** | GPIO / OSC32_IN | - | - | - | - | - | OSC32_IN (–∫–≤–∞—Ä—Ü 32768 –ì—Ü) |
| **4** | **PC15** | GPIO / OSC32_OUT | - | - | - | - | - | OSC32_OUT (–∫–≤–∞—Ä—Ü 32768 –ì—Ü) |
| **5** | **PA0** | GPIO | **ADC0** | TIM2_CH1, TIM5_CH1 | USART2_CTS | - | - | WKUP (–ø—Ä–æ–±—É–∂–¥–µ–Ω–∏–µ –æ—Ç —Å–Ω–∞) |
| **6** | **PA1** | GPIO | **ADC1** | TIM2_CH2, TIM5_CH2 | USART2_RTS | - | - | - |
| **7** | **PA2** | GPIO | **ADC2** | TIM2_CH3, TIM5_CH3, TIM9_CH1 | **USART2_TX** | - | - | - |
| **8** | **PA3** | GPIO | **ADC3** | TIM2_CH4, TIM5_CH4, TIM9_CH2 | **USART2_RX** | - | - | - |
| **9** | **PA4** | GPIO | **ADC4** | - | USART2_CK | **SPI1_NSS**, SPI3_NSS | - | DAC_OUT1 (–Ω–∞ –¥—Ä—É–≥–∏—Ö STM32) |
| **10** | **PA5** | GPIO | **ADC5** | TIM2_CH1 | - | **SPI1_SCK** | - | - |
| **11** | **PA6** | GPIO | **ADC6** | TIM1_BKIN, TIM3_CH1 | - | **SPI1_MISO** | - | - |
| **12** | **PA7** | GPIO | **ADC7** | TIM1_CH1N, TIM3_CH2 | - | **SPI1_MOSI** | - | - |
| **13** | **PB0** | GPIO | **ADC8** | TIM1_CH2N, TIM3_CH3 | - | - | - | - |
| **14** | **PB1** | GPIO | **ADC9** | TIM1_CH3N, TIM3_CH4 | - | - | - | - |
| **15** | **PB2** | GPIO | - | - | - | - | - | BOOT1 (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞ F4) |
| **16** | **PB10** | GPIO | - | TIM2_CH3 | **USART3_TX** | SPI2_SCK | **I2C2_SCL** | - |
| **17** | **PB11** | GPIO | - | TIM2_CH4 | **USART3_RX** | - | **I2C2_SDA** | - |
| **18** | **GND** | –ó–µ–º–ª—è | - | - | - | - | - | –û–±—â–∏–π –ø—Ä–æ–≤–æ–¥ (0V) |
| **19** | **GND** | –ó–µ–º–ª—è | - | - | - | - | - | –î—É–±–ª–∏–∫–∞—Ç |
| **20** | **3V3** | –ü–∏—Ç–∞–Ω–∏–µ 3.3V | - | - | - | - | - | –í—ã—Ö–æ–¥ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞ |

#### –ü—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –ø–ª–∞—Ç—ã (–ø–∏–Ω—ã 21-40)

| ‚Ññ | –ü–∏–Ω | –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è | ADC | Timer | UART | SPI | I2C | –î—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ |
|---|-----|------------------|-----|-------|------|-----|-----|----------------|
| **21** | **PB8** | GPIO | - | TIM4_CH3, TIM10_CH1 | - | - | I2C1_SCL | SDIO_D4, CAN1_RX (–∞–ª—å—Ç.) |
| **22** | **PB7** | GPIO | - | TIM4_CH2 | **USART1_RX** | - | **I2C1_SDA** | - |
| **23** | **PB6** | GPIO | - | TIM4_CH1 | **USART1_TX** | - | **I2C1_SCL** | - |
| **24** | **PB5** | GPIO | - | TIM3_CH2 | - | SPI1_MOSI, SPI3_MOSI | I2C1_SMBA | - |
| **25** | **PB4** | GPIO | - | TIM3_CH1 | - | SPI1_MISO, SPI3_MISO | - | **JTRST** (–æ—Ç–ª–∞–¥–∫–∞ JTAG) |
| **26** | **PB3** | GPIO | - | TIM2_CH2 | - | SPI1_SCK, SPI3_SCK | - | **JTDO/SWO** (–æ—Ç–ª–∞–¥–∫–∞) |
| **27** | **PA15** | GPIO | - | TIM2_CH1 | - | SPI1_NSS, SPI3_NSS | - | **JTDI** (–æ—Ç–ª–∞–¥–∫–∞ JTAG) |
| **28** | **PA12** | GPIO | - | TIM1_ETR | - | - | - | **USB_DP** (USB D+) |
| **29** | **PA11** | GPIO | - | TIM1_CH4 | USART6_TX | - | - | **USB_DM** (USB D-) |
| **30** | **PA10** | GPIO | - | TIM1_CH3 | **USART1_RX** | - | - | USB_ID |
| **31** | **PA9** | GPIO | - | TIM1_CH2 | **USART1_TX** | - | - | - |
| **32** | **PA8** | GPIO | - | TIM1_CH1 | USART1_CK | - | I2C3_SCL | MCO1 (–≤—ã–≤–æ–¥ —á–∞—Å—Ç–æ—Ç—ã) |
| **33** | **PB15** | GPIO | - | TIM1_CH3N | - | SPI2_MOSI | - | - |
| **34** | **PB14** | GPIO | - | TIM1_CH2N | USART3_RTS | SPI2_MISO | - | - |
| **35** | **PB13** | GPIO | - | TIM1_CH1N | USART3_CTS | SPI2_SCK | - | - |
| **36** | **PB12** | GPIO | - | TIM1_BKIN | - | **SPI2_NSS** | I2C2_SMBA | - |
| **37** | **NRST** | Reset | - | - | - | - | - | **–ö–Ω–æ–ø–∫–∞ RESET** –Ω–∞ –ø–ª–∞—Ç–µ |
| **38** | **3V3** | –ü–∏—Ç–∞–Ω–∏–µ 3.3V | - | - | - | - | - | –î—É–±–ª–∏–∫–∞—Ç |
| **39** | **3V3** | –ü–∏—Ç–∞–Ω–∏–µ 3.3V | - | - | - | - | - | –î—É–±–ª–∏–∫–∞—Ç |
| **40** | **GND** | –ó–µ–º–ª—è | - | - | - | - | - | –û–±—â–∏–π –ø—Ä–æ–≤–æ–¥ |

---

### üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∏–Ω–∞—Ö

#### üî¥ –ü–∏–Ω—ã –ø–∏—Ç–∞–Ω–∏—è

| –ü–∏–Ω | –§—É–Ω–∫—Ü–∏—è | –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ç–æ–∫ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----|---------|------------|------------------|------------|
| **3V3** (√ó3) | –ü–∏—Ç–∞–Ω–∏–µ | 3.3V | ~150 –º–ê —Å—É–º–º–∞—Ä–Ω–æ | –í—ã—Ö–æ–¥ LDO —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞ |
| **GND** (√ó3) | –ó–µ–º–ª—è | 0V | - | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å |
| **VBAT** | –ë–∞—Ç–∞—Ä–µ–π–∫–∞ RTC | 2.0-3.6V | <1 –º–ê | –¢–æ–ª—å–∫–æ –¥–ª—è RTC (CR2032) |
| **5V** | –í—Ö–æ–¥ –ø–∏—Ç–∞–Ω–∏—è | 5V | ~800 –º–ê | –ß–µ—Ä–µ–∑ USB –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ |

#### üü¢ ADC –∫–∞–Ω–∞–ª—ã (10 –∫–∞–Ω–∞–ª–æ–≤)

| –ö–∞–Ω–∞–ª | –ü–∏–Ω | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | –î–∏–∞–ø–∞–∑–æ–Ω | –°–∫–æ—Ä–æ—Å—Ç—å |
|-------|-----|------------|----------|----------|
| ADC0 | PA0 | 12 –±–∏—Ç (0-4095) | 0-3.3V | 2.4 MSPS |
| ADC1 | PA1 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC2 | PA2 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC3 | PA3 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC4 | PA4 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC5 | PA5 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC6 | PA6 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC7 | PA7 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC8 | PB0 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |
| ADC9 | PB1 | 12 –±–∏—Ç | 0-3.3V | 2.4 MSPS |

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–æ–¥–∞–≤–∞–π—Ç–µ –±–æ–ª—å—à–µ 3.3V –Ω–∞ ADC –ø–∏–Ω—ã! –≠—Ç–æ —É–±—å—ë—Ç —á–∏–ø!

#### üîµ UART –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (3 –ø–æ—Ä—Ç–∞)

| UART | TX | RX | –°–∫–æ—Ä–æ—Å—Ç—å | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|------|----|----|----------|------------|
| **USART1** | PA9 / PB6 | PA10 / PB7 | –î–æ 12.5 –ú–±–∏—Ç/—Å | Serial Monitor, Bluetooth |
| **USART2** | PA2 | PA3 | –î–æ 6.25 –ú–±–∏—Ç/—Å | GPS –º–æ–¥—É–ª–∏, GSM |
| **USART3** | PB10 | PB11 | –î–æ 6.25 –ú–±–∏—Ç/—Å | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–≤—è–∑—å |

#### üü° SPI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (5 –ø–æ—Ä—Ç–æ–≤)

| SPI | NSS | SCK | MISO | MOSI | –°–∫–æ—Ä–æ—Å—Ç—å | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-----|-----|-----|------|------|----------|------------|
| **SPI1** | PA4 | PA5 | PA6 | PA7 | –î–æ 50 –ú–±–∏—Ç/—Å | SD –∫–∞—Ä—Ç—ã, –¥–∏—Å–ø–ª–µ–∏ |
| **SPI2** | PB12 | PB13 | PB14 | PB15 | –î–æ 50 –ú–±–∏—Ç/—Å | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| **SPI3** | PA4 | PB3 | PB4 | PB5 | –î–æ 50 –ú–±–∏—Ç/—Å | –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞ |

#### üü† I2C –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (3 –ø–æ—Ä—Ç–∞)

| I2C | SCL | SDA | –°–∫–æ—Ä–æ—Å—Ç—å | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ |
|-----|-----|-----|----------|------------|
| **I2C1** | PB6 / PB8 | PB7 / PB9 | 100/400 –∫–ì—Ü | OLED, –¥–∞—Ç—á–∏–∫–∏ |
| **I2C2** | PB10 | PB11 | 100/400 –∫–ì—Ü | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ |
| **I2C3** | PA8 | PC9 | 100/400 –∫–ì—Ü | PC9 –Ω–µ –≤—ã–≤–µ–¥–µ–Ω –Ω–∞ –ø–ª–∞—Ç–µ! |

#### ‚è±Ô∏è –¢–∞–π–º–µ—Ä—ã –∏ PWM –∫–∞–Ω–∞–ª—ã

| –¢–∞–π–º–µ—Ä | –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∏–Ω—ã –¥–ª—è PWM | –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ | –ß–∞—Å—Ç–æ—Ç–∞ |
|--------|------------------------|------------|---------|
| **TIM1** | PA8, PA9, PA10, PA11 | 16 –±–∏—Ç | –î–æ 100 –ú–ì—Ü |
| **TIM2** | PA0, PA1, PA2, PA3, PA5, PB3, PB10, PB11 | 32 –±–∏—Ç | –î–æ 100 –ú–ì—Ü |
| **TIM3** | PA6, PA7, PB0, PB1, PB4, PB5 | 16 –±–∏—Ç | –î–æ 100 –ú–ì—Ü |
| **TIM4** | PB6, PB7, PB8, PB9 | 16 –±–∏—Ç | –î–æ 100 –ú–ì—Ü |
| **TIM5** | PA0, PA1, PA2, PA3 | 32 –±–∏—Ç | –î–æ 100 –ú–ì—Ü |
| **TIM9-TIM11** | PA2, PA3, PB8 | 16 –±–∏—Ç | –î–æ 100 –ú–ì—Ü |

**–í—Å–µ–≥–æ:** ~25 –ø–∏–Ω–æ–≤ –º–æ–≥—É—Ç –≤—ã–¥–∞–≤–∞—Ç—å PWM!

#### üîå USB –ø–∏–Ω—ã

| –ü–∏–Ω | –§—É–Ω–∫—Ü–∏—è | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----|---------|------------|
| **PA11** | USB_DM (D-) | –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è GPIO –ø—Ä–∏ USB |
| **PA12** | USB_DP (D+) | –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è GPIO –ø—Ä–∏ USB |
| **PA10** | USB_ID | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ OTG —Ä–µ–∂–∏–º–∞ |

---

## üîã –ü–∏—Ç–∞–Ω–∏–µ –ø–ª–∞—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç—ã –ø–æ–¥–∞—á–∏ –ø–∏—Ç–∞–Ω–∏—è

Black Pill V3.1 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **3 —Å–ø–æ—Å–æ–±–∞** –ø–∏—Ç–∞–Ω–∏—è:

#### 1Ô∏è‚É£ –ß–µ—Ä–µ–∑ USB Type-C (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```diagram
–ö–æ–º–ø—å—é—Ç–µ—Ä/–ó–∞—Ä—è–¥–∫–∞ ‚Üí [USB Type-C] ‚Üí 5V ‚Üí LDO —Ä–µ–≥—É–ª—è—Ç–æ—Ä ‚Üí 3.3V ‚Üí STM32
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ:** 5V –æ—Ç USB
- **–¢–æ–∫:** –î–æ 500 –º–ê (—Å—Ç–∞–Ω–¥–∞—Ä—Ç USB 2.0)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –£–¥–æ–±–Ω–æ, –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏, –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ USB DFU
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –ù—É–∂–µ–Ω –∫–æ–º–ø—å—é—Ç–µ—Ä –∏–ª–∏ USB –∑–∞—Ä—è–¥–∫–∞

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:**
```
USB Type-C –∫–∞–±–µ–ª—å ‚Üí Black Pill ‚Üí –ì–æ—Ç–æ–≤–æ!
```

#### 2Ô∏è‚É£ –ß–µ—Ä–µ–∑ –ø–∏–Ω 5V (–≤–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫)

```diagram
–í–Ω–µ—à–Ω–∏–π 5V ‚Üí –ü–∏–Ω 5V ‚Üí LDO —Ä–µ–≥—É–ª—è—Ç–æ—Ä ‚Üí 3.3V ‚Üí STM32
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ:** 5V ¬± 0.5V (4.5V - 5.5V)
- **–¢–æ–∫:** –î–æ 800 –º–ê (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ê–≤—Ç–æ–Ω–æ–º–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ, –±–æ–ª—å—à–µ —Ç–æ–∫–∞
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –ù—É–∂–µ–Ω –≤–Ω–µ—à–Ω–∏–π –∏—Å—Ç–æ—á–Ω–∏–∫ 5V

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
- Powerbank —Å USB
- –ë–ª–æ–∫ –ø–∏—Ç–∞–Ω–∏—è 5V
- Arduino 5V –ø–∏–Ω
- –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–π –ë–ü

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ù–µ –ø–æ–¥–∞–≤–∞–π—Ç–µ –±–æ–ª—å—à–µ 5.5V –Ω–∞ —ç—Ç–æ—Ç –ø–∏–Ω!

#### 3Ô∏è‚É£ –ß–µ—Ä–µ–∑ –ø–∏–Ω 3V3 (–ø—Ä—è–º–æ–µ –ø–∏—Ç–∞–Ω–∏–µ)

```diagram
–í–Ω–µ—à–Ω–∏–π 3.3V ‚Üí –ü–∏–Ω 3V3 ‚Üí –ù–∞–ø—Ä—è–º—É—é ‚Üí STM32
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ:** 3.3V ¬± 0.3V (3.0V - 3.6V)
- **–¢–æ–∫:** –î–æ 150 –º–ê (–¥–ª—è STM32 + –Ω–µ–º–Ω–æ–≥–æ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏)
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–æ—Ç–µ—Ä–∏, –≤—ã—Å–æ–∫–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:** –ù—É–∂–µ–Ω —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ 3.3V

**‚ö†Ô∏è –û–ü–ê–°–ù–û:**
- –ù–µ –ø–æ–¥–∞–≤–∞–π—Ç–µ –±–æ–ª—å—à–µ 3.6V! –í—ã–∂–∂–µ—Ç —á–∏–ø!
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ 3.3V

#### 4Ô∏è‚É£ –ß–µ—Ä–µ–∑ VBAT (–±–∞—Ç–∞—Ä–µ–π–∫–∞ –¥–ª—è RTC)

```diagram
CR2032 (3V) ‚Üí VBAT ‚Üí RTC ‚Üí –ß–∞—Å—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- **–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ:** 2.0V - 3.6V (–æ–±—ã—á–Ω–æ CR2032 = 3V)
- **–¢–æ–∫:** –ú–∏–∫—Ä–æ–∞–º–ø–µ—Ä—ã (RTC –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –æ—á–µ–Ω—å –º–∞–ª–æ)
- **–§—É–Ω–∫—Ü–∏—è:** –ü–∏—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ RTC (—á–∞—Å—ã) –∏ SRAM backup
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** VBAT **–Ω–µ –ø–∏—Ç–∞–µ—Ç** –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä, —Ç–æ–ª—å–∫–æ RTC!

### üìä –¢–∞–±–ª–∏—Ü–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–ø–æ—Å–æ–±–æ–≤ –ø–∏—Ç–∞–Ω–∏—è

| –°–ø–æ—Å–æ–± | –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ | –ú–∞–∫—Å. —Ç–æ–∫ | –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ | –°–ª–æ–∂–Ω–æ—Å—Ç—å |
|--------|------------|-----------|------------|-----------|
| USB Type-C | 5V | 500 –º–ê | –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –æ—Ç–ª–∞–¥–∫–∞ | ‚≠ê –õ–µ–≥–∫–æ |
| –ü–∏–Ω 5V | 5V | 800 –º–ê | –ê–≤—Ç–æ–Ω–æ–º–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ |
| –ü–∏–Ω 3V3 | 3.3V | 150 –º–ê | –ù–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ | ‚≠ê‚≠ê‚≠ê –°–ª–æ–∂–Ω–æ |
| VBAT | 3V | <1 –º–ê | –¢–æ–ª—å–∫–æ RTC | ‚≠ê‚≠ê –°—Ä–µ–¥–Ω–µ |

---

## üî¥ –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED (PC13)

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞

–ù–∞ Black Pill V3.1 –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED –ø–æ–¥–∫–ª—é—á–µ–Ω **–∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ**:

```diagram
PC13 ‚Üí –†–µ–∑–∏—Å—Ç–æ—Ä ‚Üí LED ‚Üí 3.3V

–õ–æ–≥–∏–∫–∞:
PC13 = LOW (0)  ‚Üí LED –≤–∫–ª—é—á–µ–Ω  ‚úÖ (—Ç–æ–∫ —Ç–µ—á—ë—Ç –æ—Ç 3.3V –∫ GND —á–µ—Ä–µ–∑ PC13)
PC13 = HIGH (1) ‚Üí LED –≤—ã–∫–ª—é—á–µ–Ω ‚ùå (–Ω–µ—Ç —Ä–∞–∑–Ω–æ—Å—Ç–∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–≤)
```

### üí° –ö–æ–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è LED

```c
// –í–∫–ª—é—á–∏—Ç—å LED
HAL_GPIO_WritePin(GPIOC, GPIO_PIN_13, GPIO_PIN_RESET);  // LOW = –≤–∫–ª—é—á–µ–Ω

// –í—ã–∫–ª—é—á–∏—Ç—å LED
HAL_GPIO_WritePin(GPIOC, GPIO_PIN_13, GPIO_PIN_SET);    // HIGH = –≤—ã–∫–ª—é—á–µ–Ω

// –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å LED (toggle)
HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
```

**–ß–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ –Ω–æ–≤–∏—á–∫–æ–≤:**
```c
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (LED —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç!)
HAL_GPIO_WritePin(GPIOC, GPIO_PIN_13, GPIO_PIN_SET);    // –•–æ—Ç—è—Ç –≤–∫–ª—é—á–∏—Ç—å, –Ω–æ LED –≥–∞—Å–Ω–µ—Ç

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û
HAL_GPIO_WritePin(GPIOC, GPIO_PIN_13, GPIO_PIN_RESET);  // LED –≤–∫–ª—é—á–∞–µ—Ç—Å—è
```

---

## üîò –ö–Ω–æ–ø–∫–∏ –Ω–∞ –ø–ª–∞—Ç–µ

### RESET (NRST)

**–§—É–Ω–∫—Ü–∏—è:** –°–±—Ä–æ—Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏:**
1. –ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
2. –í—Å–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
3. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–Ω–∞—á–∞–ª–∞ (—Å —Ñ—É–Ω–∫—Ü–∏–∏ `main()`)
4. RAM –æ—á–∏—â–∞–µ—Ç—Å—è, –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–∏—Å–ª–∞
- –ù—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É
- –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤–æ–π –ø—Ä–æ—à–∏–≤–∫–∏

### BOOT (BOOT0)

**–§—É–Ω–∫—Ü–∏—è:** –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**

| BOOT –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ | –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------------|-------|----------|
| **–ù–µ –Ω–∞–∂–∞—Ç–∞ (LOW)** | –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º | –ó–∞–ø—É—Å–∫ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–∑ Flash –ø–∞–º—è—Ç–∏ |
| **–ù–∞–∂–∞—Ç–∞ (HIGH)** | Bootloader (DFU) | –ó–∞–ø—É—Å–∫ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∑–∞–≥—Ä—É–∑—á–∏–∫–∞ |

### üöÄ –ö–∞–∫ –≤–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º DFU (–∑–∞–≥—Ä—É–∑—á–∏–∫–∞):

**–ú–µ—Ç–æ–¥ 1: –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç**
```
1. –û—Ç–∫–ª—é—á–∏—Ç–µ USB
2. –ó–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É BOOT
3. –î–µ—Ä–∂–∞ BOOT, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ USB
4. –û—Ç–ø—É—Å—Ç–∏—Ç–µ BOOT —á–µ—Ä–µ–∑ 1-2 —Å–µ–∫—É–Ω–¥—ã
‚Üí –ü–ª–∞—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ DFU
```

**–ú–µ—Ç–æ–¥ 2: –ì–æ—Ä—è—á–∏–π —Å–±—Ä–æ—Å**
```
1. USB –ø–æ–¥–∫–ª—é—á–µ–Ω
2. –ó–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É BOOT
3. –î–µ—Ä–∂–∞ BOOT, –Ω–∞–∂–º–∏—Ç–µ RESET
4. –û—Ç–ø—É—Å—Ç–∏—Ç–µ RESET, –∑–∞—Ç–µ–º BOOT
‚Üí –ü–ª–∞—Ç–∞ –≤ —Ä–µ–∂–∏–º–µ DFU
```

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∂–∏–º–∞ DFU:**
```bash
# macOS/Linux
dfu-util -l

# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:
# Found DFU: [0483:df11] ver=2200, devnum=X, cfg=1, intf=0...
```

**–í—ã—Ö–æ–¥ –∏–∑ DFU —Ä–µ–∂–∏–º–∞:**
- –ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ RESET (–±–µ–∑ BOOT)
- –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ USB —Å–Ω–æ–≤–∞

---

## üîå –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ ST-Link –∫ Black Pill

### –ß—Ç–æ —Ç–∞–∫–æ–µ ST-Link?

**ST-Link V2** - —ç—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä –∏ –æ—Ç–ª–∞–¥—á–∏–∫ –¥–ª—è STM32.

**–§—É–Ω–∫—Ü–∏–∏:**
- ‚¨áÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ Flash –ø–∞–º—è—Ç—å
- üêõ –û—Ç–ª–∞–¥–∫–∞: breakpoints, step-by-step, –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- üìñ –ß—Ç–µ–Ω–∏–µ Flash –∏ RAM –ø–∞–º—è—Ç–∏
- üîÑ –°–±—Ä–æ—Å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞

### üìå –†–∞—Å–ø–∏–Ω–æ–≤–∫–∞ ST-Link V2 (10-pin —Ä–∞–∑—ä—ë–º)

ST-Link V2 –∏–º–µ–µ—Ç 10-–∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ä–∞–∑—ä—ë–º —Å —Ç–∞–∫–æ–π —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–æ–π:

```
ST-Link V2 (–≤–∏–¥ —Å–≤–µ—Ä—Ö—É)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1   2   3   4   5   6   7   8   9   10 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ 5.0V
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 5.0V
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 3.3V
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ 3.3V
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GND
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ GND
  ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SWDIO
  ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SWIM (–¥–ª—è STM8)
  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SWCLK
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ RST (Reset)
```

**–¢–∞–±–ª–∏—Ü–∞ –ø–∏–Ω–æ–≤:**

| –ü–∏–Ω | –°–∏–≥–Ω–∞–ª | –û–ø–∏—Å–∞–Ω–∏–µ | –î–ª—è STM32 |
|-----|--------|----------|-----------|
| **1** | RST | Reset | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **2** | SWCLK | Serial Wire Clock | ‚úÖ –ù—É–∂–µ–Ω |
| **3** | SWIM | Single Wire Interface (STM8) | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| **4** | SWDIO | Serial Wire Data I/O | ‚úÖ –ù—É–∂–µ–Ω |
| **5** | GND | –ó–µ–º–ª—è | ‚úÖ –ù—É–∂–µ–Ω |
| **6** | GND | –ó–µ–º–ª—è (–¥—É–±–ª–∏–∫–∞—Ç) | - |
| **7** | 3.3V | –ü–∏—Ç–∞–Ω–∏–µ 3.3V | ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **8** | 3.3V | –ü–∏—Ç–∞–Ω–∏–µ 3.3V (–¥—É–±–ª–∏–∫–∞—Ç) | - |
| **9** | 5.0V | –ü–∏—Ç–∞–Ω–∏–µ 5V | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ! |
| **10** | 5.0V | –ü–∏—Ç–∞–Ω–∏–µ 5V (–¥—É–±–ª–∏–∫–∞—Ç) | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ! |

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ü–∏–Ω—ã 9 –∏ 10 (5V) **–ù–ï –ü–û–î–ö–õ–Æ–ß–ê–ô–¢–ï** –∫ Black Pill! STM32 —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 3.3V!

### üîó –°—Ö–µ–º–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```diagram
ST-Link V2 (10-pin)       Black Pill V3.1
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ       ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ü–∏–Ω 4 (SWDIO)      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí DIO  (PA13)
–ü–∏–Ω 2 (SWCLK)      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí SCK  (PA14)
–ü–∏–Ω 5 (GND)        ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí GND
–ü–∏–Ω 7 (3.3V)       ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí 3V3  (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### üìã –¢–∞–±–ª–∏—Ü–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

| ST-Link V2 | –ü–∏–Ω ‚Ññ | –§—É–Ω–∫—Ü–∏—è | Black Pill | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ? |
|------------|-------|---------|------------|--------------|
| **SWDIO** | 4 | –î–∞–Ω–Ω—ã–µ | **DIO** (PA13) | ‚úÖ –î–∞ |
| **SWCLK** | 2 | –¢–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | **SCK** (PA14) | ‚úÖ –î–∞ |
| **GND** | 5 –∏–ª–∏ 6 | –ó–µ–º–ª—è | **GND** | ‚úÖ –î–∞ |
| **3.3V** | 7 –∏–ª–∏ 8 | –ü–∏—Ç–∞–Ω–∏–µ | **3V3** | ‚ö†Ô∏è –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ |
| **RST** | 1 | Reset | **NRST** | ‚ùå –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:

#### 1. –ü–∏—Ç–∞–Ω–∏–µ –æ—Ç ST-Link (3.3V –ø–∏–Ω)

**–ú–æ–∂–Ω–æ –ª–∏ –ø–æ–¥–∞–≤–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ?**
- ‚úÖ **–î–ê**, –µ—Å–ª–∏ Black Pill –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ USB
- ‚ùå **–ù–ï–¢**, –µ—Å–ª–∏ Black Pill —É–∂–µ –ø–∏—Ç–∞–µ—Ç—Å—è –æ—Ç USB (–∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤!)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ü—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ: –ø–∏—Ç–∞–π—Ç–µ Black Pill –æ—Ç USB, 3.3V –æ—Ç ST-Link –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ
- –î–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã: –ø–∏—Ç–∞–π—Ç–µ –æ—Ç ST-Link 3.3V –ø–∏–Ω–∞

#### 2. –î–ª–∏–Ω–∞ –ø—Ä–æ–≤–æ–¥–æ–≤

- **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ:** 10-20 —Å–º
- **–ú–∞–∫—Å–∏–º—É–º:** 50 —Å–º (–¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–æ–≤–æ–¥–∞ = –ø–æ–º–µ—Ö–∏ –∏ –æ—à–∏–±–∫–∏)
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:** Dupont –ø—Ä–æ–≤–æ–¥–∞ (female-female)

#### 3. –ó–µ–º–ª—è (GND) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!

**–í—Å–µ–≥–¥–∞** –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ GND –º–µ–∂–¥—É ST-Link –∏ Black Pill, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–µ!

---

## üöÄ –ü–µ—Ä–≤–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PlatformIO

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å ST-Link –∫ Black Pill

```
–ü–æ–¥–∫–ª—é—á–∏—Ç–µ 4 –ø—Ä–æ–≤–æ–¥–∞:
SWDIO ‚Üí PA13
SWCLK ‚Üí PA14
GND   ‚Üí GND
(3.3V ‚Üí 3V3 - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å ST-Link –∫ –∫–æ–º–ø—å—é—Ç–µ—Ä—É

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ ST-Link –≤–∏–¥–µ–Ω —Å–∏—Å—Ç–µ–º–æ–π
ioreg -p IOUSB -w0 | grep -i "stlink"
```

**–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å:**
```
+-o STM32 STLink@00121000  <class IOUSBHostDevice, id 0x...>
```

### –®–∞–≥ 3: –ü–æ–¥–∫–ª—é—á–∏—Ç—å Black Pill –∫ USB (–ø–∏—Ç–∞–Ω–∏–µ)

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç ST-Link (—Ç–æ–≥–¥–∞ USB –Ω–µ –Ω—É–∂–µ–Ω).

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å platformio.ini

```ini
[env:blackpill_f411ce]
platform = ststm32
board = blackpill_f411ce
framework = stm32cube
upload_protocol = stlink
debug_tool = stlink
```

### –®–∞–≥ 5: –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É

–§–∞–π–ª `src/main.c`:

```c
#include "main.h"

void SystemClock_Config(void);

int main(void)
{
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è HAL
    HAL_Init();

    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    SystemClock_Config();

    // –í–∫–ª—é—á–∏—Ç—å —Ç–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GPIOC
    __HAL_RCC_GPIOC_CLK_ENABLE();

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å PC13 –∫–∞–∫ –≤—ã—Ö–æ–¥
    GPIO_InitTypeDef GPIO_InitStruct = {0};
    GPIO_InitStruct.Pin = GPIO_PIN_13;
    GPIO_InitStruct.Mode = GPIO_MODE_OUTPUT_PP;
    GPIO_InitStruct.Pull = GPIO_NOPULL;
    GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
    HAL_GPIO_Init(GPIOC, &GPIO_InitStruct);

    // –ì–ª–∞–≤–Ω—ã–π —Ü–∏–∫–ª
    while (1)
    {
        HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);  // –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å LED
        HAL_Delay(500);                           // –ó–∞–¥–µ—Ä–∂–∫–∞ 500 –º—Å
    }
}

void SystemClock_Config(void)
{
    RCC_OscInitTypeDef RCC_OscInitStruct = {0};
    RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è
    __HAL_RCC_PWR_CLK_ENABLE();
    __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å HSE –∏ PLL
    RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
    RCC_OscInitStruct.HSEState = RCC_HSE_ON;
    RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
    RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
    RCC_OscInitStruct.PLL.PLLM = 25;  // 25 –ú–ì—Ü / 25 = 1 –ú–ì—Ü
    RCC_OscInitStruct.PLL.PLLN = 192; // 1 –ú–ì—Ü √ó 192 = 192 –ú–ì—Ü
    RCC_OscInitStruct.PLL.PLLP = RCC_PLLP_DIV2; // 192 –ú–ì—Ü / 2 = 96 –ú–ì—Ü
    RCC_OscInitStruct.PLL.PLLQ = 4;   // 192 –ú–ì—Ü / 4 = 48 –ú–ì—Ü (USB)

    if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
    {
        Error_Handler();
    }

    // –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é —á–∞—Å—Ç–æ—Ç—É –∏ –¥–µ–ª–∏—Ç–µ–ª–∏ —à–∏–Ω
    RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK
                                | RCC_CLOCKTYPE_PCLK1 | RCC_CLOCKTYPE_PCLK2;
    RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
    RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;   // 96 –ú–ì—Ü
    RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;    // 48 –ú–ì—Ü
    RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;    // 96 –ú–ì—Ü

    if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_3) != HAL_OK)
    {
        Error_Handler();
    }
}

void Error_Handler(void)
{
    __disable_irq();
    while (1)
    {
        // –ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–µ
    }
}
```

### –®–∞–≥ 6: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /Users/maksym_poskannyi/Documents/PlatformIO/Projects/STM32_Core
~/.platformio/penv/bin/platformio run
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Building .pio/build/blackpill_f411ce/firmware.bin
RAM:   [          ]   0.0% (used 44 bytes from 131072 bytes)
Flash: [          ]   0.7% (used 3424 bytes from 524288 bytes)
========================= [SUCCESS] =========================
```

### –®–∞–≥ 7: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–ª–∞—Ç—É

```bash
~/.platformio/penv/bin/platformio run --target upload
```

**–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏:**
```
Configuring upload protocol...
AVAILABLE: blackmagic, cmsis-dap, jlink, stlink
CURRENT: upload_protocol = stlink
Uploading .pio/build/blackpill_f411ce/firmware.elf
...
** Programming Started **
** Programming Finished **
** Verify Started **
** Verified OK **
** Resetting Target **
========================= [SUCCESS] =========================
```

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

**LED –Ω–∞ –ø–∏–Ω–µ PC13 –¥–æ–ª–∂–µ–Ω –º–∏–≥–∞—Ç—å** —Å —á–∞—Å—Ç–æ—Ç–æ–π 1 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É (500 –º—Å –≤–∫–ª—é—á—ë–Ω, 500 –º—Å –≤—ã–∫–ª—é—á–µ–Ω).

‚úÖ **–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –ü–µ—Ä–≤–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!** üéâ

---

## üêõ –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

### –ó–∞–ø—É—Å–∫ –æ—Ç–ª–∞–¥—á–∏–∫–∞

```bash
~/.platformio/penv/bin/platformio debug
```

–ò–ª–∏ –≤ VS Code:
- –ù–∞–∂–º–∏—Ç–µ **F5**
- –ò–ª–∏ **Debug ‚Üí Start Debugging**

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–ª–∞–¥—á–∏–∫–∞:

1. **Breakpoints** - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ç–æ—á–∫–µ
2. **Step Over (F10)** - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
3. **Step Into (F11)** - –≤–æ–π—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é
4. **Continue (F5)** - –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
5. **–ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** - –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
6. **Call Stack** - —Å—Ç–µ–∫ –≤—ã–∑–æ–≤–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
7. **–†–µ–≥–∏—Å—Ç—Ä—ã** - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è breakpoint:

```c
int main(void)
{
    HAL_Init();
    SystemClock_Config();

    __HAL_RCC_GPIOC_CLK_ENABLE();

    // –ü–æ—Å—Ç–∞–≤—å—Ç–µ breakpoint –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–µ (–∫–ª–∏–∫–Ω–∏—Ç–µ —Å–ª–µ–≤–∞ –æ—Ç –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫–∏)
    GPIO_InitTypeDef GPIO_InitStruct = {0};  // ‚Üê Breakpoint –∑–¥–µ—Å—å

    while (1)
    {
        HAL_GPIO_TogglePin(GPIOC, GPIO_PIN_13);
        HAL_Delay(500);  // ‚Üê –ò–ª–∏ –∑–¥–µ—Å—å
    }
}
```

**–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è** –Ω–∞ breakpoint, –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ:
- –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ü–æ—à–∞–≥–æ–≤–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: ST-Link –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º:**
```
Error: libusb_open() failed with LIBUSB_ERROR_ACCESS
Error: open failed
```

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ USB
ioreg -p IOUSB -w0 | grep -i "stlink"

# –ï—Å–ª–∏ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
# 1. USB –∫–∞–±–µ–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω
# 2. ST-Link —Å–≤–µ—Ç–∏—Ç—Å—è (LED –≥–æ—Ä–∏—Ç)
# 3. –î—Ä–∞–π–≤–µ—Ä—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (–æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω—ã –Ω–∞ macOS)
```

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Target not found

**–°–∏–º–ø—Ç–æ–º:**
```
Error: init mode failed (unable to connect to the target)
```

**–ü—Ä–∏—á–∏–Ω—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**

#### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–æ–≤

```
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
‚úì SWDIO ‚Üí PA13
‚úì SWCLK ‚Üí PA14
‚úì GND ‚Üí GND
‚úì –ü—Ä–æ–≤–æ–¥–∞ –ø–ª–æ—Ç–Ω–æ —Å–∏–¥—è—Ç –≤ —Ä–∞–∑—ä—ë–º–∞—Ö
```

#### 2. Black Pill –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç –ø–∏—Ç–∞–Ω–∏–µ

```
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
‚úì USB –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Black Pill
‚úì –ò–ª–∏ 3.3V –æ—Ç ST-Link –ø–æ–¥–∫–ª—é—á–µ–Ω
‚úì LED –Ω–∞ –ø–ª–∞—Ç–µ —Å–≤–µ—Ç–∏—Ç—Å—è (–µ—Å–ª–∏ –µ—Å—Ç—å)
```

#### 3. –ü–∏–Ω—ã PA13/PA14 –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–¥–µ

‚ö†Ô∏è **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PA13 –∏ PA14 –¥–ª—è GPIO!** –û–Ω–∏ –Ω—É–∂–Ω—ã –¥–ª—è SWD!

```c
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û - —É–±—å—ë—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏!
HAL_GPIO_Init(GPIOA, GPIO_PIN_13); // PA13 = SWDIO, –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å!

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥—Ä—É–≥–∏–µ –ø–∏–Ω—ã
HAL_GPIO_Init(GPIOA, GPIO_PIN_0);  // PA0 —Å–≤–æ–±–æ–¥–µ–Ω
```

#### 4. –†–µ–∂–∏–º –Ω–∏–∑–∫–æ–≥–æ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è

–ï—Å–ª–∏ –∫–æ–¥ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç STM32 –≤ sleep/stop —Ä–µ–∂–∏–º, ST-Link –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å —Å–≤—è–∑—å.

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –î–æ–±–∞–≤—å—Ç–µ —Ñ–ª–∞–≥ –≤ platformio.ini
upload_flags = --connect-under-reset
```

### –ü—Ä–æ–±–ª–µ–º–∞ 3: –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. **LED –º–∏–≥–∞–µ—Ç –Ω–∞–æ–±–æ—Ä–æ—Ç?**
   - –ü–æ–º–Ω–∏—Ç–µ –ø—Ä–æ –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É PC13!
   - `GPIO_PIN_RESET` = LED –≤–∫–ª—é—á—ë–Ω

2. **SystemClock_Config() –≤—ã–∑–≤–∞–Ω?**
   ```c
   int main(void)
   {
       HAL_Init();
       SystemClock_Config(); // ‚Üê –ù–µ –∑–∞–±—ã—Ç—å!
       ...
   }
   ```

3. **–¢–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ GPIO –≤–∫–ª—é—á–µ–Ω–æ?**
   ```c
   __HAL_RCC_GPIOC_CLK_ENABLE(); // ‚Üê –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!
   ```

4. **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∏–Ω?**
   ```c
   GPIO_PIN_13  // ‚Üê –î–ª—è PC13 (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED)
   ```

### –ü—Ä–æ–±–ª–µ–º–∞ 4: Reset –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º:** –ö–Ω–æ–ø–∫–∞ RESET –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—É

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –í platformio.ini –¥–æ–±–∞–≤—å—Ç–µ:
upload_flags = --reset
debug_server_ready_pattern = .*Listening at .*
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Black Pill —Å –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç–∞–º–∏

### Black Pill vs Arduino Nano

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Black Pill V3.1 | Arduino Nano |
|----------|-----------------|--------------|
| **MCU** | STM32F411CEU6 | ATmega328P |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | ARM Cortex-M4 32-bit | AVR 8-bit |
| **–ß–∞—Å—Ç–æ—Ç–∞** | 100 –ú–ì—Ü | 16 –ú–ì—Ü |
| **Flash** | 512 –ö–ë | 32 –ö–ë |
| **RAM** | 128 –ö–ë | 2 –ö–ë |
| **FPU** | –î–∞ | –ù–µ—Ç |
| **USB** | –ù–∞—Ç–∏–≤–Ω—ã–π USB OTG | –ß–µ—Ä–µ–∑ UART-USB —á–∏–ø |
| **UART** | 3 | 1 |
| **SPI** | 5 | 1 |
| **I2C** | 3 | 1 |
| **ADC** | 12-–±–∏—Ç, 16 –∫–∞–Ω–∞–ª–æ–≤ | 10-–±–∏—Ç, 8 –∫–∞–Ω–∞–ª–æ–≤ |
| **–¢–∞–π–º–µ—Ä—ã** | 11 + RTC | 3 |
| **PWM –∫–∞–Ω–∞–ª—ã** | ~20 | 6 |
| **–¶–µ–Ω–∞** | ~$4-5 | ~$5-6 |

**–í—ã–≤–æ–¥:** Black Pill **–Ω–∞–º–Ω–æ–≥–æ –º–æ—â–Ω–µ–µ** –ø—Ä–∏ —Å—Ö–æ–∂–µ–π —Ü–µ–Ω–µ!

### Black Pill vs STM32 Nucleo

| –ü–∞—Ä–∞–º–µ—Ç—Ä | Black Pill V3.1 | Nucleo-F411RE |
|----------|-----------------|---------------|
| **MCU** | STM32F411CEU6 | STM32F411RET6 |
| **Flash** | 512 –ö–ë | 512 –ö–ë |
| **–†–∞–∑–º–µ—Ä** | 53√ó18 –º–º | 70√ó82 –º–º |
| **–ü—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä** | –í–Ω–µ—à–Ω–∏–π ST-Link | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π ST-Link |
| **–¶–µ–Ω–∞** | ~$4-5 | ~$12-15 |
| **Arduino shields** | –ù–µ—Ç | –î–∞ |

**–í—ã–≤–æ–¥:** Nucleo - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –ø–ª–∞—Ç–∞ —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø—Ä–æ–≥—Ä–∞–º–º–∞—Ç–æ—Ä–æ–º, –Ω–æ –¥–æ—Ä–æ–∂–µ –∏ –±–æ–ª—å—à–µ.

---

## üéì –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### ‚úÖ –í—ã –Ω–∞—É—á–∏–ª–∏—Å—å:

1. ‚úÖ –ü–æ–Ω–∏–º–∞—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ STM32F411CEU6
2. ‚úÖ –ß–∏—Ç–∞—Ç—å —Ä–∞—Å–ø–∏–Ω–æ–≤–∫—É (pinout)
3. ‚úÖ –ü–æ–¥–∫–ª—é—á–∞—Ç—å ST-Link –∫ Black Pill
4. ‚úÖ –ó–∞–≥—Ä—É–∂–∞—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É —á–µ—Ä–µ–∑ PlatformIO
5. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π LED
6. ‚úÖ –û—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∫–æ–¥

### üìö –°–ª–µ–¥—É—é—â–∏–µ —É—Ä–æ–∫–∏:

- **–£—Ä–æ–∫ 4:** GPIO –ø–æ–¥—Ä–æ–±–Ω–æ - –∫–Ω–æ–ø–∫–∏, –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã
- **–£—Ä–æ–∫ 5:** UART - —Å–≤—è–∑—å —Å –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–º —á–µ—Ä–µ–∑ Serial
- **–£—Ä–æ–∫ 6:** –¢–∞–π–º–µ—Ä—ã –∏ PWM - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é LED, —Å–µ—Ä–≤–æ–ø—Ä–∏–≤–æ–¥—ã
- **–£—Ä–æ–∫ 7:** ADC - —á—Ç–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤—ã—Ö –¥–∞—Ç—á–∏–∫–æ–≤
- **–£—Ä–æ–∫ 8:** I2C - –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OLED –¥–∏—Å–ø–ª–µ—è
- **–£—Ä–æ–∫ 9:** SPI - —Ä–∞–±–æ—Ç–∞ —Å SD –∫–∞—Ä—Ç–æ–π
- **–£—Ä–æ–∫ 10:** USB CDC - Virtual COM Port

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã

### ‚úÖ DO (–î–µ–ª–∞–π—Ç–µ)

1. **–í—Å–µ–≥–¥–∞ –ø–æ–¥–∫–ª—é—á–∞–π—Ç–µ GND** –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
2. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ** –ø–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º (3.3V, –Ω–µ 5V!)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø—Ä–æ–≤–æ–¥–∞** –¥–ª—è ST-Link (–¥–æ 20 —Å–º)
4. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏** –∫–æ–¥–∞
5. **–ß–∏—Ç–∞–π—Ç–µ datasheet** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏

### ‚ùå DON'T (–ù–µ –¥–µ–ª–∞–π—Ç–µ)

1. **–ù–µ –ø–æ–¥–∞–≤–∞–π—Ç–µ 5V –Ω–∞ GPIO –ø–∏–Ω—ã** –Ω–∞–ø—Ä—è–º—É—é (—Ç–æ–ª—å–∫–æ 5V-—Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω—ã–µ!)
2. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PA13/PA14** –¥–ª—è GPIO (–Ω—É–∂–Ω—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
3. **–ù–µ –ø—Ä–µ–≤—ã—à–∞–π—Ç–µ 25 –º–ê** –Ω–∞ –æ–¥–∏–Ω GPIO –ø–∏–Ω
4. **–ù–µ –∑–∞–º—ã–∫–∞–π—Ç–µ –ø–∏–Ω—ã** –Ω–∞–ø—Ä—è–º—É—é –Ω–∞ GND/3.3V
5. **–ù–µ –æ—Ç–∫–ª—é—á–∞–π—Ç–µ ST-Link** –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã

---

## üìö –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

1. **STM32F411CE Datasheet**
   - [DS9994](https://www.st.com/resource/en/datasheet/stm32f411ce.pdf)
   - –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —Ä–∞—Å–ø–∏–Ω–æ–≤–∫–∞, —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

2. **STM32F411 Reference Manual**
   - [RM0383](https://www.st.com/resource/en/reference_manual/dm00119316-stm32f411xc-e-advanced-arm-based-32-bit-mcus-stmicroelectronics.pdf)
   - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤ –∏ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏

3. **HAL User Manual**
   - [UM1725](https://www.st.com/resource/en/user_manual/um1725-description-of-stm32f4-hal-and-lowlayer-drivers-stmicroelectronics.pdf)
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ HAL —Ñ—É–Ω–∫—Ü–∏—è–º

### –°—Ö–µ–º—ã Black Pill V3.1

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ WeAct Studio](https://github.com/WeActStudio/MiniSTM32F4x1)
- –°—Ö–µ–º–∞ –ø–ª–∞—Ç—ã (schematic)
- Pinout –¥–∏–∞–≥—Ä–∞–º–º—ã
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞

---

**–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ —Å Black Pill V3.1! üöÄ**

*–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω 15.02.2026 –∫–∞–∫ —á–∞—Å—Ç—å —É—á–µ–±–Ω–æ–≥–æ –∫—É—Ä—Å–∞ –ø–æ STM32 –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö.*
